<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script_client">
    <sys_script_client action="INSERT_OR_UPDATE">
        <active>true</active>
        <applies_extended>false</applies_extended>
        <condition/>
        <description>Only display What needed choices that match the Request type value.</description>
        <field>u_request_type</field>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>NeedIt Request Type Options</name>
        <order/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
		if ( newValue == '') {
			return;
		}
		
		// The onChange function is automatically passed five parameters by ServiceNow. Although you do not need to do anything to pass the parameters, you can use them in your script.

		// control: field the Client Script is configured for.
		// oldValue: value of the field when the form loaded and prior to the change.
		// newValue: value of the field after the change.
		// isLoading: boolean value indicating whether the change is occurring as part of a form load. Value is true if change is due to a form load. When forms load, all the field values on the form change as the record is loaded into the form.
		// isTemplate: boolean value indicating whether the change occurred due to population of the field by a template. Value is true if change is due to population from a template.
	
		// When a user selects a record to load, the form and form layout are rendered first and then the fields are populated with values from the database. From the technical perspective, all field values are changed, from nothing to the record's values, when a form loads. The if statement in the template assumes that onChange Client scripts should not execute their script logic when a form loads. The onChange Client Script also stops execution if the newValue for a field is no value. Depending on your use case, you can modify or even remove the if statement. 
		
	
		// If the form is loading and it is not a new record, set the u_what_needed value to the
		// value from the record before it was loaded
		if(isLoading && !g_form.isNewRecord()){
			return;
		}
		
		var whatneeded = g_form.getValue('u_what_needed');
		
		// Clear all of the choices from the What needed field choice list
		g_form.clearOptions('u_what_needed');
		
		// If the value of the Request type field is hr, add
		// two hr choices and other to the What needed field choice list
		if(newValue == 'hr'){
			g_form.addOption('u_what_needed','hr1','Human Resources 1');
			g_form.addOption('u_what_needed','hr2','Human Resources 2');
			g_form.addOption('u_what_needed','other','Other');
		}
		// If the value of the Request type field is facilities, add
		// two facilities choices and other to the What needed field
		// choice list
		if(newValue == 'facilities'){
			g_form.addOption('u_what_needed','facilities1','Facilities 1');
			g_form.addOption('u_what_needed','facilities2','Facilities 2');
			g_form.addOption('u_what_needed','other','Other');
		}
		// If the value of the Request type field is legal, add
		// two legal choices and other to the What needed field
		// choice list
		if(newValue == 'legal'){
			g_form.addOption('u_what_needed','legal1','Legal 1');
			g_form.addOption('u_what_needed','legal2','Legal 2');
			g_form.addOption('u_what_needed','other','Other');
		}
		
		
	}]]></script>
        <sys_class_name>sys_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-07-02 12:57:50</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>a75a902a2f4530104f5e136a2799b652</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>NeedIt Request Type Options</sys_name>
        <sys_overrides/>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_script_client_a75a902a2f4530104f5e136a2799b652</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-07-02 13:36:20</sys_updated_on>
        <table>x_58872_needit_needit</table>
        <type>onChange</type>
        <ui_type>10</ui_type>
        <view/>
    </sys_script_client>
</record_update>
